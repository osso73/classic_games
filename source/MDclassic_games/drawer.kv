#:import Clock kivy.clock.Clock

<MyDrawer>:
    screen: 'menu'
    enable_swiping: False
    
    BoxLayout:
        orientation: 'vertical'
        spacing: '10dp'
        padding: '8dp'

        MDIconButton:
            icon: 'arrow-collapse-left'
            halign: 'left'
            on_press: root.set_state("close")

        MDLabel:
            text: 'Classic games'
            halign: 'center'
            font_style: 'H5'
            size_hint_y: None
            height: self.texture_size[1]
            font_name: 'fonts/magnetob'
            theme_text_color: 'Custom'
            text_color: app.theme_cls.primary_color
        
        Image:
            source: 'images/icon.png'
            size_hint_y: None
            height: '150dp'
            

        MDList:
            OneLineIconListItem:
                text: 'Main menu'
                on_release:
                    root.set_state("close")
                    root.screen = 'menu'
                IconLeftWidget:
                    icon: 'menu'
                
            OneLineIconListItem:
                text: 'Settings'
                on_release:
                    root.set_state("close")
                    app.open_settings()
                IconLeftWidget:
                    icon: 'cog'
                
            OneLineIconListItem:
                text: 'Help'
                on_release:
                    root.set_state("close")
                    root.open_help()
                IconLeftWidget:
                    icon: 'help-circle-outline'
                
            OneLineIconListItem:
                text: 'About'
                on_release:
                    root.set_state("close")
                    root.about()
                IconLeftWidget:
                    icon: 'information-outline'
                
            OneLineIconListItem:
                text: 'Exit'
                on_release: 
                    app.play('bye')
                    Clock.schedule_once(app.stop, 2)
                IconLeftWidget:
                    icon: 'logout'
        

        
        ScrollView:
            MDList:
                OneLineAvatarListItem:
                    text: 'pong'
                    on_release:
                        root.set_state("close")
                        root.screen = 'pong'
                    ImageLeftWidget:
                        source: 'pong/images/icon.jpg'
                                        
                OneLineAvatarListItem:
                    text: 'ahorcado'
                    on_release:
                        root.set_state("close")
                        root.screen = 'ahorcado'
                    ImageLeftWidget:
                        source: 'ahorcado/images/icon.jpg'
                    
                OneLineAvatarListItem:
                    text: 'memory'
                    on_release:
                        root.set_state("close")
                        root.screen = 'memory'
                    ImageLeftWidget:
                        source: 'memory/images/icon.png'
                    
                OneLineAvatarListItem:
                    text: '15 puzzle'
                    on_release:
                        root.set_state("close")
                        root.screen = 'fifteen'
                    ImageLeftWidget:
                        source: 'game_15puzzle/images/icon.png'
                    
                OneLineAvatarListItem:
                    text: '2048'
                    on_release:
                        root.set_state("close")
                        root.screen = '2048'
                    ImageLeftWidget:
                        source: 'game_2048/images/icon.png'
                    
                OneLineAvatarListItem:
                    text: 'buscaminas'
                    on_release:
                        root.set_state("close")
                        root.screen = 'buscaminas'
                    ImageLeftWidget:
                        source: 'buscaminas/images/icon.png'
             
                OneLineAvatarListItem:
                    text: 'snake'
                    on_release:
                        root.set_state("close")
                        root.screen = 'snake'
                    ImageLeftWidget:
                        source: 'snake/images/icon.png'
                    
